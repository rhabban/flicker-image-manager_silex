{% extends "layout.html.twig" %}

{% block content %}
    <div class="col-md-6 col-md-offset-3">
        <h1>Add Image</h1>
        <form method="post" action="{{ path("upload_image") }}" enctype="multipart/form-data">

            <div class="form-group {% if(errors.image is defined) %}has-error{% endif %}">

              <label class="control-label" for="image">Select File</label>
              <input id="image" name="image" type="file" class="file" multiple data-show-upload="false" data-show-caption="true">

              <label for="imageName" class="col-sm-2">File name</label>
              <input type="text" id="imageName" class="form-control" name="imageName">

                {% if(errors.image is defined) %}
                    {% for error in errors.image %}<p class="help-block">{{ error }}</p>{% endfor %}
                {% endif %}
            </div>
            <button type="submit" class="btn btn-default">Submit</button>
        </form>
    </div>

    <script>

    $(document).ready(function() {
      $('#image').on('change', function(e) {
        $('#imageName').val($('#image').val().split('\\').pop().replace(/\.[^/.]+$/, "")) ;
        $('#imageName').attr("placeholder",$('#image').val().split('\\').pop().replace(/\.[^/.]+$/, ""));

      });
    });

    </script>

{% endblock %}
